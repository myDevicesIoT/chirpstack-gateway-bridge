# This configuration provides a default myDevices Azure IoT Hub configuration.


[general]
# debug=5, info=4, warning=3, error=2, fatal=1, panic=0
log_level=4

# Log to syslog.
#
# When set to true, log messages are being written to syslog.
log_to_syslog=true


[commands]

  [commands.commands]

    [commands.commands.reboot]
      command = "/opt/chirpstack-gateway-bridge/command-ctrl.sh reboot"
      max_execution_duration = "1m"

    [commands.commands.remote-ctrl]
      command = "/opt/chirpstack-gateway-bridge/command-ctrl.sh remote-ctrl"
      max_execution_duration = "15s"

    [commands.commands.remote_ctrl]
      # Duplicate command for Azure since their command names can not contain hyphens.
      command = "/opt/chirpstack-gateway-bridge/command-ctrl.sh remote-ctrl"
      max_execution_duration = "15s"

    [commands.commands.update]
      command = "/opt/chirpstack-gateway-bridge/command-ctrl.sh update"
      max_execution_duration = "20m"

[integration]
  marshaler = "json"

  [integration.mqtt]

    [integration.mqtt.auth]
      type = "azure_iot_hub"

      [integration.mqtt.auth.azure_iot_hub]
        device_id = "<DEVICE_ID>"
        model_id = "dtmi:mydevicesinc:multitech:mtcap;1"
        provisioning_endpoint = "global.azure-devices-provisioning.net"
        provisioning_scope = "0ne0006B4D6"
        tls_cert = "<TLS_CERT>"
        tls_key = "<TLS_KEY>"

[meta_data]

  [meta_data.static]
    make = "Multitech"
    model = "MTCAP"
